language: java
dist: trusty
sudo: true

matrix:
  include:      
    #Linux
    - os: linux

    # Code Coverage
    - script:
        - mvn compile
        - mvn cobertura:cobertura
      after_success:
        - bash <(curl -s https://codecov.io/bash)

    # OSX
    - os: osx
      sudo: false

# jdk_switcher does not work on OSX so only use if Linux
before_install:
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then jdk_switcher use "oraclejdk8"; fi

script:
  - mvn compile
  - mvn test
